


Progression 4.0.2



□概要
――――――――――――――――――――――――――――――――――――――――
正式版のリリースです。



□リリース日
――――――――――――――――――――――――――――――――――――――――
2010/04/22



□アップデート内容
――――――――――――――――――――――――――――――――――――――――

■ パッケージ

・パッケージに ASDoc を同梱しました。



■ プロジェクト

・新規プロジェクトの作成ウィザードが追加されました。

・プロジェクトパネルの位置付けを「新規プロジェクトの作成」から「既存プロジェクトの管理」に変更しました。

・プロジェクト機能の一部が Flash コマンド経由で使用可能となります。

・拡張プロジェクト機能が実装されます。この機能を使用すると、Progression 以外の任意のプロジェクト書き出しが可能となります。対応するパッケージをインストール後、「新規プロジェクトの作成」の「種類」から選択してください。

・拡張ライブラリ機能が実装されます。この機能を使用すると、プロジェクト書き出し時に任意のライブラリを同梱書き出しすることが可能となります。対応するパッケージをインストール後、「新規プロジェクトの作成」の「拡張ライブラリ」から選択してください。

・一部プロジェクト設定が書き出し後に再設定可能となります。

・新規プロジェクトの作成時の設定をプロファイルとして保存、管理することが可能となります。

・プロジェクトのテスト機能が追加されます。

・プロジェクトソースファイラが使用可能となります。

・プロジェクトのリリースビルド書き出し機能が追加されます。この機能を使用すると、不要なエラーメッセージを除去し、trace() を無視した状態の swf ファイルを bin-release フォルダに書き出します。

・プロジェクトフォルダ内のプロジェクトファイルを実行することで、プロジェクトを開くことが可能となります。

・FlashDevelop のプロジェクトファイルに、より詳細なプロジェクト設定が反映されるように修正しました。

・プロジェクトの編集時に「SWC ライブラリを使用する」のオプションが変更可能となります。

・クラススタイルのテンプレートに MyCommandList クラスを追加しました。



■ シーンエディタ

・ブランチ毎に表示、非表示が切り替え可能となります。

・シーン名に同階層で重複した値を設定した場合に、エラーが発生しないように修正しました。

・キャスト追加時にシーン名から自動的に名前を付けるように修正しました。

・全ての要素に対してカット、コピー、ペーストが可能になりました。

・編集中に新規作成、ファイルを開く、等の動作をしたときに、既存のデータを破棄するかどうか問い合わせるように修正しました。



■ コンポーネント

・簡易的なリキッドレイアウトを実現する AdjustLayout コンポーネントを追加しました。

・Goto コンポーネントが常に正しく動作するように修正しました。

・環境設定コンポーネント群が追加されました。

・コンポーネントのライブプレビューアイコンに簡易情報表示機能が追加されます。<br />
　※ Flash CS4 では正しく動作しません。

・必要なラベルレイヤーを自動インサートするコンポーネントアシスト機能が追加されます。



■ クラスライブラリ

・用途毎に最適な設定に変更可能な環境設定機能を追加しました。

・外部 swf ファイル内のシーン構造を親 swf ファイルと連結させて動作可能な SceneLoader 機能を追加しました。

・AddChild、RemoveChild コマンドのような DisplayObject を操作するコマンドで対象を指定する場合に、id によるストリング指定が可能となります。

・コマンドリスト系のコマンドに複数ファイルの読み込みをまとめて管理可能となる LoaderList コマンド、時間差でコマンドを実行する TweenList コマンド、指定回数ループ実行する LoopList コマンド、指定回数反復実行する ShuttleList コマンドの 3 つが追加されます。

・SerialList コマンドおよび ParallelList コマンドに実装されている省略形機能を強化し、数値を指定した場合には Wait コマンドに、その他のオブジェクトを指定した場合には Trace コマンドに自動変換するように変更されます。

・外部ファイル読み込み系のコマンドが追加されます。

・中断処理をその場で完全に停止可能にすることで、柔軟なコマンドフローを構築可能となります。

・一部のコマンドに対しては、Command.interruptType プロパティによって中断方法を「その場で停止」「適用前に戻る」「即適用する」の 3 種類から選択可能となります。

・全てのコマンドフローを停止させる Break コマンドの役割を、現在のコマンドリストの処理のみを停止させるものに変更しました。

・全てのコマンドフローを停止させる Return コマンドを追加しました。

・リピート系のコマンドリスト処理を停止させる Stop コマンドが追加されます。

・コマンドのタイムアウトポリシーを変更し、明示的に終了処理をする必要のあるもの以外はすべてタイムアウトのデフォルトを 0 に修正しました。

・コマンド実行中にエラーが発生した場合に、発生源の位置が判別可能となるようなエラーメッセージが追加されました。

・Resource クラスによる読み込みリソース管理機能を追加しました。

・DataHolder クラスによるデータ連携機能を追加しました。

・Debugger クラスによるログ出力・絞り込みが容易なデバッグ機能を追加しました。

・プロジェクト書き出し時に必要な設定をすることで、Flash Builder（Flex Builder）でダイレクトインポートが可能になります。

・CastButton.href に指定されている URL がダウンロード可能なファイルである場合、コンテクストメニューに「対象をファイルに保存」の項目が追加されます。

・CastLoader および CastImageLoader の読み込み対象が画像である場合、コンテクストメニューに「画像を表示」「画像を印刷」の項目が追加されます。

・実装されるコンテクストメニューがローカル再生時や相対パス設定時にも正しく動作するように修正されます。

・従来の日本語・英語に加え、フランス語が新たにサポートされます。

・コマンドの遅延・タイムアウト、エフェクトの適用時間、その他時間設定の必要な値の単位をミリ秒から秒に変更しました。以前のバージョンで 1000 と指定していた箇所は、今後は 1 と指定する必要があります。

・ExecutorObject クラスによる非同期処理が可能なイベントに対して、処理完了時に *_COMPLETE イベントを送出するように変更しました。
　※CastEvent.ADDED に対して CastEvent.ADDED_COMPLETE など。

・CastButton クラスで CastEvent.CAST_ADDED イベント、および CastEvent.CAST_REMOVED イベントでの非同期処理が実行可能に変更しました。

・SceneEvent のイベントフローが DisplayObject と同様の処理を行うように修正しました。

・_onLoad() などのオーバーライド・イベントハンドラメソッドの名称の接頭辞を _ から at に変更しました。
　変更前 : _onLoad() -> 変更後 : atSceneLoad()

・SceneId の値に NaS (Not a SceneId) の状態を追加しました。これは以前まで一部のプロパティで SceneId が設定されていない場合に null を返していたために、比較時に事前に存在確認をしないとエラーとなってしまっていた問題に対応するために機能です。Nas 状態の SceneId インスタンスは値として "NaS" を返し、全ての比較で false となります。また、NaS インスタンスを使用したい場合には ScenId.NaS プロパティを、対象が NaS かどうかを確認したい場合には SceneId.isNaS() メソッドを使用してください。

・Trace コマンドのコンストラクタ引数が通常の trace() と同様に可変長引数となるように修正しました。

・全ての FDT の警告に対応しました。

・ExDisplayObject、Command、SceneObject インスタンスの id プロパティに、既存の登録済み識別子を設定した場合にエラーを送出するように修正しました。
　※既存の識別子を使い回したい場合には、あらかじめ古い対象の id プロパティに null を設定してください。
　※id プロパティ、または group プロパティに識別子が設定されている状態では、GC されないことが保証されます。インスタンスを破棄したい場合には、それぞれのプロパティに null を設定してください。

・Progression クラスの goto() または jumpto() を実行した際に、全ての移動状態において指し示す移動先 SceneId に対して、正しくクエリが付加されるように修正しました。

・SceneId クラスの transfer() の第二引数で query を設定できるように修正しました。

・ブラウザ上で実行時に CastButton にフォーカスした状態で ENTER キーを押した際に、正しく移動できるように修正しました。

・ToolTip が表示領域を超えたサイズになった場合に、折り返して全体を表示するように修正しました。

・タイムラインスタイルで断続的なインデックス管理を可能とする CastTimeline クラスを追加しました。

・移動先のシーンが存在しない等の移動に関するエラーが発生した場合に送出される ProcessEvent.PROCESS_ERROR イベントを追加しました。

・HTML インジェクション機能で HTML ファイルを読み込んだ場合に、HTML データ構造から自動的にシーンを作成する機能を追加しました。

・Progression がアイドル状態の場合に、自動的に先読み処理を行い Resource 登録をする ResourcePrefetcher クラスを追加しました。

・CastDocument クラスから CastPreloader の foreground 及び background にアクセス可能となるようにそれぞれ同名のプロパティを追加しました。

・CastDocument クラスに CastPreloader 経由で読み込まれたかどうかを判別する isPreloaded プロパティを追加しました。

・CastObject クラスを追加しました。

・SceneLoader クラスに loadBytes() メソッドを追加しました。

・SceneLoader クラスに unloadAndStop() メソッドを追加しました。
　※Flasy Player 10 未満で実行した場合には例外がスローされます。

・CastPreloader クラスの CastEvent.CAST_LOAD_START イベント内で、読み込まれる本体の監視処理を可能にする PreloadSWF クラスを追加しました。

・ParallelList クラスで進捗管理が可能となる count プロパティと total プロパティを追加し、子コマンド完了時に都度実行される onUpdate イベントハンドラメソッドを追加しました。

・DoTransition クラス、DoTween クラス、DoTweener クラス、DoTweenFrame クラスに onUpdate イベントハンドラメソッドを追加しました。

・Listen クラスを追加しました。

・LoadURL クラスに dataFormat プロパティを追加しました。

・Command クラスに defaultInterruptType プロパティを追加しました。

・LoadCommand 系のクラスで読み込み処理を行う際に、すでに Resource としてキャッシュされていればキャッシュから取得する機能を追加しました。ただし、キャッシュ時の Resource 識別子として、読み込み時の URL を指定している必要があります。

・LoadCommand クラスの cacheAsResource プロパティが true の場合に、自動的に作成される Resource インスタンスの識別子を設定する resId プロパティと resGroup プロパティを追加しました。resId プロパティが設定されていない場合には、自動的に URL の値で登録されます。
　※従来の group プロパティ経由のグループ登録の方法は廃止となります。

・LoadCommand クラスに preventCache プロパティ、defaultCacheAsResource プロパティ、defaultPreventCache プロパティを追加しました。

・ExecuteEvent クラスに EXECUTE_UPDATE イベントを追加しました。

・ToolTip クラスに textFormat プロパティ、defaultTextFormat プロパティ、maxWidth プロパティ、defaultMaxWidth プロパティを追加しました。

・ToolTip クラスに表示中のツールチップを強制的に消去する remove() メソッドを追加しました。

・コマンドパッケージの構成を整理しました。



■ 同梱ライブラリ

・SWFAddress のバージョンを 2.4 に変更しました。



□既知の問題
――――――――――――――――――――――――――――――――――――――――

・なし













